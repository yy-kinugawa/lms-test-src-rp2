<!-- Task.119 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="~{/common/layout :: layout(~{::title},~{::body/content()})}">
<head>
<meta charset="UTF-8">
<title>面談記録[[${meetingRegistForm.meetingId == null} ? '登録' : '変更']] | LMS</title>
</head>
<body>

	<th:block th:object="${meetingRegistForm}">

		<h2>面談記録[[*{meetingId == null} ? '登録' : '変更']]</h2>
		<h3>受講生情報</h3>
	
		<table class="table table-hover">
			<tbody>
				<tr>
					<th class="w33per">ユーザー名</th>
					<td>[[*{userDetailDto.userName}]]</td>
				</tr>
				<tr>
					<th>企業名</th>
					<td>[[*{userDetailDto.companyName}]]</td>
				</tr>
				<tr>
					<th>コース名</th>
					<td>[[*{userDetailDto.courseName}]]</td>
				</tr>
				<tr>
					<th>会場名</th>
					<td>[[*{userDetailDto.placeName}]]</td>
				</tr>
			</tbody>
		</table>
	
		<form th:action="@{/meeting/regist}" method="post" name="meetingRegistForm" class="form-horizontal">
			<input type="hidden" name="meetingId" th:value="*{meetingId}" />
			<input type="hidden" name="lmsUserId" th:value="*{lmsUserId}" />
			<input type="hidden" th:name="accountId" th:value="*{userDetailDto.accountId}" />
			<input type="hidden" th:name="userDetailDto.userName" th:value="*{userDetailDto.userName}" />
			<input type="hidden" th:name="userDetailDto.companyName" th:value="*{userDetailDto.companyName}" />
			<input type="hidden" th:name="userDetailDto.courseName" th:value="*{userDetailDto.courseName}" />
			<input type="hidden" th:name="userDetailDto.placeName" th:value="*{userDetailDto.placeName}" />
	
	 		<h3>面談記録【テクニカル】</h3>
			<div class="well bs-component">
				<fieldset th:each="meetingDetailDto, stat : *{meetingDetailDtoList}">
					<th:block th:if="${stat.index < 5}">
						<legend>質問[[${stat.count}]]</legend>
						<input type="hidden" th:name="'meetingDetailDtoList[' + ${stat.index} + '].questionType'"  value="0" />
						<div class="form-group">
							<label th:for="'question_' + ${stat.index}" class="col-lg-2 control-label">質問</label>
							<div class="col-lg-10">
								<textarea th:name="'meetingDetailDtoList[' + ${stat.index} + '].question'" th:id="'question_' + ${stat.index}"
								class="form-control" th:errorclass="errorInput">[[${meetingDetailDto.question}]]</textarea>
								<span th:errors="*{meetingDetailDtoList[__${stat.index}__].question}" class="help-inline error"></span>
							</div>
						</div>
						<div class="form-group">
							<label th:for="'answer_' + ${stat.index}" class="col-lg-2 control-label">回答</label>
							<div class="col-lg-10">
								<textarea th:name="'meetingDetailDtoList[' + ${stat.index} + '].answer'"  th:id="'answer_' + ${stat.index}"
								class="form-control" th:errorclass="errorInput">[[${meetingDetailDto.answer}]]</textarea>
								<span th:errors="*{meetingDetailDtoList[__${stat.index}__].answer}" class="help-inline error"></span>
							</div>
						</div>
						<div class="form-group">
							<label th:for="'follow_' + ${stat.index}" class="col-lg-2 control-label">フォロー</label>
							<div class="col-lg-10">
								<textarea th:name="'meetingDetailDtoList[' + ${stat.index} + '].follow'"  th:id="'follow_' + ${stat.index}"
								class="form-control" th:errorclass="errorInput">[[${meetingDetailDto.follow}]]</textarea>
								<span th:errors="*{meetingDetailDtoList[__${stat.index}__].follow}" class="help-inline error"></span>
							</div>
						</div>
					</th:block>
				</fieldset>
			</div>
	
			<h3>面談記録【ヒューマン】</h3>
			<div class="well bs-component">
				<fieldset th:each="meetingDetailDto, stat : *{meetingDetailDtoList}">
					<th:block th:if="${stat.index > 4}">
						<legend>質問[[${stat.count - 5}]]</legend>
						<input type="hidden" th:name="'meetingDetailDtoList[' + ${stat.index} + '].questionType'"  value="1" />
						<div class="form-group">
							<label th:for="'question_' + ${stat.index}" class="col-lg-2 control-label">質問</label>
							<div class="col-lg-10">
								<textarea th:name="'meetingDetailDtoList[' + ${stat.index} + '].question'"  th:id="'question_' + ${stat.index}"
								class="form-control" th:errorclass="errorInput">[[${meetingDetailDto.question}]]</textarea>
								<span th:errors="*{meetingDetailDtoList[__${stat.index}__].question}" class="help-inline error"></span>
							</div>
						</div>
						<div class="form-group">
							<label th:for="'answer_' + ${stat.index}" class="col-lg-2 control-label">回答</label>
							<div class="col-lg-10">
								<textarea th:name="'meetingDetailDtoList[' + ${stat.index} + '].answer'"  th:id="'answer_' + ${stat.index}"
								class="form-control" th:errorclass="errorInput">[[${meetingDetailDto.answer}]]</textarea>
								<span th:errors="*{meetingDetailDtoList[__${stat.index}__].answer}" class="help-inline error"></span>
							</div>
						</div>
						<div class="form-group">
							<label th:for="'follow_' + ${stat.index}" class="col-lg-2 control-label">フォロー</label>
							<div class="col-lg-10">
								<textarea th:name="'meetingDetailDtoList[' + ${stat.index} + '].follow'"  th:id="'follow_' + ${stat.index}"
								class="form-control" th:errorclass="errorInput">[[${meetingDetailDto.follow}]]</textarea>
								<span th:errors="*{meetingDetailDtoList[__${stat.index}__].follow}" class="help-inline error"></span>
							</div>
						</div>
					</th:block>
				</fieldset>
	
	            <div class="form-group">
	               <div class="col-lg-10 col-lg-offset-2">
	                 <button type="submit" class="btn btn-primary">[[*{meetingId == null} ? '登録' : '変更']]する</button>
	               </div>
	             </div>
	
			</div>
		</form>

	</th:block>

</body>
</html>